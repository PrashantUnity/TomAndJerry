@page "/"
@inject NavigationManager nav
<PageTitle>Home</PageTitle>
<MudPaper Class="d-flex flex-wrap justify-center "
          Style="background-color:transparent"
          Elevation="0"
          Width="100%">
    @foreach (var item in Datas.GetRandomVideo())
    {
        <MudPaper @onclick="()=>GoTOPage(item)" Style="background-color:transparent" Elevation="0">
            <Thumbnail VideoModel="@item" />
        </MudPaper>
    }

</MudPaper>


@code
{

    [Inject] public Data Datas { get; set; }
    public void GoTOPage(Video video)
    {
        nav.NavigateTo($"playmedia/{video.CommentName}");
    }
    protected override async Task OnInitializedAsync()
    {
        Datas.OnChange += StateHasChanged;
        await Datas.InitializeAsync();
    }

    public void Dispose()
    {
        Datas.OnChange -= StateHasChanged;
    }
}